
@{
    ViewBag.Title = "Hotel";
}
@model TermProject.Models.Hotel
@using TermProject.Models
@{User u = (User)HttpContext.Current.Session["user"]; }


<script type="text/javascript" src="/lib/jquery-1.10.1.min.js"></script>
<!-- Add mousewheel plugin (this is optional) -->
<script type="text/javascript" src="/lib/jquery.mousewheel-3.0.6.pack.js"></script>
<!-- Add fancyBox main JS and CSS files -->
<script type="text/javascript" src="/source/jquery.fancybox.js?v=2.1.5"></script>
<script src="~/source/jquery.fancybox.pack.js"></script>
<link rel="stylesheet" type="text/css" href="/source/jquery.fancybox.css?v=2.1.5" media="screen" />
<!-- Add Button helper (this is optional) -->
<link rel="stylesheet" type="text/css" href="/source/helpers/jquery.fancybox-buttons.css?v=1.0.5" />
<script type="text/javascript" src="/source/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<!-- Add Thumbnail helper (this is optional) -->
<link rel="stylesheet" type="text/css" href="/source/helpers/jquery.fancybox-thumbs.css?v=1.0.7" />
<script type="text/javascript" src="/source/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<!-- Add Media helper (this is optional) -->
<script type="text/javascript" src="/source/helpers/jquery.fancybox-media.js?v=1.0.6"></script>



    <br /><br /><br />
     <div class="container">

         @{
        <!-- Page Heading/Breadcrumbs -->
        <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">@Model.Name
                        <small>@Model.Address</small>

                        <a class="btn btn-primary pull-right" href=@("/Booking/Index/" + Model.Id)><i>Book Now</i></a>
                    </h1>

                    <ol class="breadcrumb">
                        <li><a href="~/Home/Index">Home</a>
                        </li>
                        <li class="active">@Model.Name</li>
                    </ol>
                </div>
            </div>
        <!-- /.row -->

        <!-- Portfolio Item Row -->
        <div class="row">

                <div class="col-md-8">
                    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                        <!-- Indicators -->
                        <ol class="carousel-indicators">
                            <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                            <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                            <li data-target="#carousel-example-generic" data-slide-to="2"></li>
                        </ol>


                        <!-- Wrapper for slides -->
                            @if (Model.Images.ToList().Count > 3)
                        {
                    <div class="carousel-inner">
                            <div class="item active">
                                <img class="img-responsive" src=@("/images/hotel/" + @Model.Images.ToList()[0].Id + "_" + @Model.Images.ToList()[0].HotelId + ".jpg") alt="">
                            </div>
                            <div class="item">
                                <img class="img-responsive" src=@("/images/hotel/" + @Model.Images.ToList()[1].Id + "_" + @Model.Images.ToList()[1].HotelId + ".jpg") alt="">
                            </div>
                            <div class="item">
                                <img class="img-responsive" src=@("/images/hotel/" + @Model.Images.ToList()[2].Id + "_" + @Model.Images.ToList()[2].HotelId + ".jpg") alt="">
                            </div>
                        </div>
                        }

                        <!-- Controls -->
                        <a class="left carousel-control" href="#carousel-example-generic" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left"></span>
                        </a>
                        <a class="right carousel-control" href="#carousel-example-generic" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right"></span>
                        </a>
                    </div>
                </div>

                <div class="col-md-4">
                    <h2>@Model.Name </h2>

                    <h3>Public Rating: &nbsp;&nbsp;<strong>@Model.Rating</strong></h3>

                    <h3>Description: </h3>
                    <p>@Model.Description Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>

                    <h3>Policies: </h3>
                    <p>@Model.Policies Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>

                </div>

            </div>

         <div class="row">
                <h3>Room Types</h3>
                 <table class="table" style="padding:20px; margin:50px; padding-left:10px">
                     <thead>
                         <tr>
                             <th>Room Type</th>
                             <th>Price</th>

                         </tr>
                     </thead>
                     <tbody>
                            @foreach (var a in Model.Rooms)
                    {
                         <tr class="success">
                                 <td>@a.Type</td>
                                 <td>@a.Price</td>
                            </tr>
                    }
                     </tbody>
                 </table>

             </div>
         <div class="row">

                 <h3>Useful Info About Hotel</h3>
                 <p>@Model.UsefulInfo  Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam viverra euismod odio, <br>gravida pellentesque urna varius vitae. Sed dui lorem, adipiscing in adipiscing et, interdum nec metus. Mauris ultricies, justo eu convallis placerat, felis enim.</p>

             </div>
        <!-- /.row -->
        <!-- Related Projects Row -->
        <div class="row">

                <div class="col-lg-12">
                    <h3 class="page-header">Other Images</h3>
                </div>


                            @foreach (var imm in Model.Images)
            {
            <div class="col-md-4">
                    <a class="fancybox" rel="group" href="@("/images/hotel/" + @imm.Id + "_" + @imm.HotelId + ".jpg")">
                        <img class="img-responsive img-hover img-related" style="margin:20px;width:330px;height:300px" src="@("/images/hotel/" + @imm.Id + "_" + @imm.HotelId + ".jpg")" alt="">
                    </a>
                </div>

            }


            </div>
        <!-- /.row -->


     <hr>
     <div class="row">
             <div class="pull-left" >
                 <h1 class="col-lg-3">Comments</h1>
             </div>
                            @if (Session["user"] != null) {
         <div class="pull-right">
                 <form action="/Search/SubmitRating" method="get" name="sentMessage" id="rateForm" novalidate>
                     <div class="control-group form-group">
                         <div class="controls">
                             <label>Rate this hotel</label>
                             <input type="hidden" name="HotelId" value="@(Model.Id)" />
                             <input type="hidden" name="UserId" value="@(u.Id)" />
                             <div class="form-group">
                                 <select class="form-control" name="Rate" form="rateForm">
                                     <option>1</option>
                                     <option>2</option>
                                     <option>3</option>
                                     <option>4</option>
                                     <option>5</option>
                                 </select>
                             </div>
                         </div>
                     </div>
                     <div id="success"></div>
                     <!-- For success/fail messages -->
                     <input type="submit" class="btn btn-primary" value="Submit Rating" />
                 </form>

             </div>
         }
         else {
            <div class="pull-right"><h4>login to Rate this hotel</h4><a class="btn btn-default"  id="a3" href="/Home/Login">Login</a></div>

        }
         </div>


     <div class="row col-md-offset-2 " >


                            @foreach (var c in Model.Comments)
         {

               <div class="media">
                        <div class="media-body">
                            <h4 class="media-heading">
                                <strong class="col-md-2">@c.User.Name
                                </strong>
                                <small class="col-md-6">@c.Comm </small>
                            </h4>
                            @if (Session["user"] != null)
                       {
                           if(u.Id == c.User.Id)
                           {
                               <a class="btn btn-default" href="@("/Search/DeleteComment/"+c.Id)"> Delete</a>
                           }
                       }
                        </div>
                    </div>
         }

         </div>

    <hr>

         if (Session["user"] != null) {
             <div class="col-md-offset-3 col-md-9">

                     <form action="/Search/AddComment" method="get" name="sentMessage" id="contactForm" novalidate>
                         <div class="control-group form-group">
                             <div class="controls">
                                 <label>Your Comment</label>
                                 <input type="hidden" name="HotelId" value="@(Model.Id)" />
                                 <input type="hidden" name="UserId" value="@(u.Id)" />
                                 <textarea rows="5" cols="40" name="Comm" class="form-control" id="message" required data-validation-required-message="Please enter your message" maxlength="999" style="resize:none"></textarea>
                             </div>
                         </div>
                         <div id="success"></div>
                         <!-- For success/fail messages -->
                         <input type="submit" class="btn btn-primary" value="Comment" />
                     </form>
                 </div>
         }
         else {
            <div class="col-md-offset-3"><h4>login to Comment</h4><a class="btn btn-default"  id="a3" href="/Home/Login">Login</a></div>

        }

    }
       <hr>
            <!-- Footer -->
         <br /><br /><br /><br /><br /><br />
            <footer>
                <div class="row">
                    <div class="col-lg-12">
                        <p>Copyright &copy; Your Website 2014</p>
                    </div>
                </div>
            </footer>

        </div>

       <!-- jQuery -->
            <script src="/js/jquery.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        /*
         *  Simple image gallery. Uses default settings
         */

        $('.fancybox').fancybox();
    });
</script>

    <!-- Bootstrap Core JavaScript -->
    <script src="/js/bootstrap.min.js"></script>

    <!-- Script to Activate the Carousel -->
    <script>
        $('.carousel').carousel({
            interval: 5000 //changes the speed
        })
    </script>
    